{{> start title="Email" hidePageHeader=true }}

<!-- Email App Container -->
<div class="h-[calc(100vh-120px)] flex flex-col">

  <!-- Email Header -->
  <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-4">
    <h1 class="text-xl sm:text-2xl font-bold text-foreground">Emails</h1>
    <div class="flex items-center gap-2 sm:gap-3 w-full sm:w-auto">
      <!-- Search Bar -->
      <div class="relative flex-1 sm:flex-none">
        <svg class="w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground" fill="none"
          stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
        <input type="text" placeholder="Search Email"
          class="pl-10 pr-4 py-2 w-full sm:w-48 md:w-64 bg-card border border-border rounded-lg text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-colors">
      </div>
      <!-- New Message Button -->
      <button
        class="px-3 sm:px-4 py-2 bg-foreground text-background font-medium rounded-lg hover:bg-foreground/90 transition-colors flex items-center gap-2 text-sm flex-shrink-0">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
        </svg>
        <span class="hidden sm:inline">New Message</span>
        <span class="sm:hidden">New</span>
      </button>
    </div>
  </div>

  <!-- Main Email Grid - Responsive Layout -->
  <!-- Mobile: only email list | Tablet (md): list + content | Desktop (xl): all 3 columns -->
  <div class="flex-1 bg-card border border-border rounded-xl overflow-hidden flex flex-col md:flex-row">

    <!-- Column 1: Email List (always visible) -->
    {{> email/email-list }}

    <!-- Column 2: Email Content (hidden on mobile) -->
    <div class="hidden md:flex md:flex-1 md:flex-col md:border-l md:border-border">
      {{> email/email-content }}
    </div>

    <!-- Column 3: Reply Composer (hidden on mobile/tablet) -->
    <div class="hidden xl:flex xl:w-96 xl:flex-col xl:border-l xl:border-border">
      {{> email/email-composer }}
    </div>

  </div>
</div>

{{> end }}